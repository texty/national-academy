<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href = css/styles.css>


</head>

<body>
<h1>Національна Академія Наук України</h1>
<h3> Lorem ipsum, ligula adipiscing ut, sagittis orci urna eget eros vivamus nulla lorem ultricies urna, sit justo odio fusce nibh urna auctor in auctor malesuada. Fusce nam quam sagittis gravida, auctor leo eget ut, lectus odio at elementum nec pellentesque nam, proin risus, mattis sodales. Non diam maecenas sapien vivamus nec, sapien auctor magna enim porttitor sit elementum ultricies auctor.</h3>




<div class="content">


    <div id="scroll">
        <div id="step1" class="step">
        <h2>Step 1</h2>
       <p> Lorem ipsum, ligula adipiscing ut, sagittis orci urna eget eros vivamus nulla lorem ultricies urna, sit justo odio fusce nibh urna auctor in auctor malesuada. Fusce nam quam sagittis gravida, auctor leo eget ut, lectus odio at elementum nec pellentesque nam, proin risus, mattis sodales. Non diam maecenas sapien vivamus nec, sapien auctor magna enim porttitor sit elementum ultricies auctor.</p>
            <button><a href="#step2" id="toStep2">Далі</a></button>
        </div>

    <div id="step2" class="step">
        <h2>Step 2</h2>
        <p> Lorem ipsum, ligula adipiscing ut, sagittis orci urna eget eros vivamus nulla lorem ultricies urna, sit justo odio fusce nibh urna auctor in auctor malesuada. Fusce nam quam sagittis gravida, auctor leo eget ut, lectus odio at elementum nec pellentesque nam, proin risus, mattis sodales. </p>
        <button><a href="#step3" id="toStep3">Далі</a></button>
            <button><a href="#step1" id="backtoStep1">Назад</a></button>

    </div>

<div id="step3" class="step">
        <h2>Step 3</h2>
        <p> Sagittis lectus adipiscing eu duis non — porttitor, eros mattis integer tempus — justo, urna adipiscing curabitur. Elementum tempus mauris fusce magna — ut integer sodales adipiscing morbi ligula metus pharetra, porta donec vulputate nec justo at odio integer. Metus eu cursus malesuada urna in gravida tempus et vulputate proin quisque rutrum quam porttitor vivamus quam commodo lectus. Tellus elementum non in ornare fusce nec nulla urna non auctor amet at ipsum et, a adipiscing metus amet ipsum ligula.</p>
    <button><a href="#step4" id="toStep4">Далі</a></button>
    <button><a href="#step2" id="backtoStep2">Назад</a></button>

</div>

<div id="step4" class="step">
        <h2>Step 4</h2>
        <p> Lorem ipsum, ligula adipiscing ut, sagittis orci urna eget eros vivamus nulla lorem ultricies urna, sit justo odio fusce nibh urna auctor in auctor malesuada. Fusce nam quam sagittis gravida.</p>
    <button><a href="#step1" id="toStep1">Далі</a></button>
    <button><a href="#step3" id="backtoStep3">Назад</a></button>
</div>

        <div id="step5">
        <h2>Step 5</h2>
        <p> Lorem ipsum, ligula adipiscing ut, sagittis orci urna eget eros vivamus nulla lorem ultricies urna, sit justo odio fusce nibh urna auctor in auctor malesuada. Fusce nam quam sagittis gravida, auctor leo eget ut, lectus odio at elementum nec pellentesque nam, proin risus, mattis sodales. Non diam maecenas sapien vivamus ne. Tellus elementum non in ornare fusce nec nulla urna non auctor amet at ipsum et, a adipiscing metus amet ipsum ligula.</p>
</div>
    </div>

    <div id="charts">
        <!--<button style="margin-left: 50px" onclick="updateData()">scrollytelling step 2</button>-->
        <!--<button style="margin-left: 50px" onclick="scatter()">scrollytelling step 3</button>-->
        <button id="scatterSmall" style="margin-left: 50px; display:none" onclick="scatterSmall()">Наблизити</button>




        <div id="age-chart"></div>

    </div>



</div>



<!--<div id="gender-scatter"></div>-->
<!-- Libraries -->
<script src="lib/jquery-2.1.4.min.js"></script>
<script src="https://d3js.org/d3.v3.min.js"></script>
<script src="lib/d3-ring-note.js"></script>

<!-- Local scripts -->
<script src="js/finance.js"></script>
<script src="js/age.js"></script>
<script src="js/genderScatter.js"></script>
<script src="js/scatterUpdate.js"></script>







<script>

    var durationTime = 750;


    var div = d3.select("body").append("div")
            .attr("class", "tooltip")
            .style("opacity", 0);

    function isInView(elem){
        return $(elem).offset().top - $(window).scrollTop() < $(elem).height() ;
    }


    //    $.fn.isInViewport = function() {
//        var elementTop = $(this).offset().top;
//        var elementBottom = elementTop + $(this).outerHeight();
//
//        var viewportTop = $(window).scrollTop();
//        var viewportBottom = viewportTop + $(window).height();
//
//        return elementBottom > viewportTop && elementTop < viewportBottom;
//    };

//    $("#scroll").on('scroll', function() {
//
//            if ($("#step2").isInViewport()) {
//             console.log("Yes");
//                updateData()
//            } else {
//                console.log("No");
//            }
//        });
//
//    $("#scroll").on('scroll', function() {
//
//        if ($("#step3").isInViewport()) {
//            console.log("Yes");
//            scatter()
//        } else {
//            console.log("No");
//        }
//    });
//
//    $("#scroll").on('scroll', function() {
//
//        if ($("#step4").isInViewport()) {
//            console.log("Yes");
//            scatterSmall()
//        } else {
//            console.log("No");
//        }
//    });

    $("#toStep2").on("click",function(){
        if (isInView($('#step2'))) {
            //fire whatever you what
            updateData()
        }
    });


    $("#scroll").scroll(function(){
        if (isInView($('#step2'))) {
            //fire whatever you what
            updateData()
        }
    });

    $("#scroll").scroll(function(){
        if (isInView($('#step3'))) {
            //fire whatever you what
            scatter();
            d3.select("#scatterSmall").attr("display", "block")
        }
        else {
            d3.select("#scatterSmall").attr("display", "none")
        }

    });

    $("#scroll").scroll(function(){
        if (isInView($('#step4'))) {
            //fire whatever you what
            scatterSmall();
        }
    });

</script>

</body>
</html>

